import{b as N,r as d,j as s,a as g}from"./app-F9mGVywk.js";import{n as P}from"./index-DVAfsfYP.js";const S=({id:e,title:r,brand:t,description:c,image:a,price:n,color_id:l,color:o,size_id:f,size:m,setAlertMessage:u})=>{const{auth:v}=N().props,C=v.user,{cartItems:x=[]}=N().props||{},[h,p]=d.useState(!1),[j,y]=d.useState(1);d.useEffect(()=>{x.includes(e)&&p(!0)},[x,e]);const b=()=>{g.get(route("items.show",e))},k=i=>{i.stopPropagation(),g.post(route("cart.add"),{product_id:e,color_id:l||null,size_id:f||null,quantity:j},{preserveScroll:!0,onSuccess:()=>{p(!0),u(`"${r}" added to cart!`),setTimeout(()=>u(""),3e3)}})};return s.jsx(s.Fragment,{children:s.jsxs("article",{className:`card product-card ${h?"cursor-default":"cursor-pointer"}`,children:[a&&s.jsx("img",{src:a,alt:r,className:"product-image",onClick:b}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{onClick:b,children:[s.jsx("h3",{children:r}),s.jsx("h6",{children:t}),s.jsx("p",{children:c}),s.jsxs("p",{className:"text-success",children:["EGP ",n]}),o&&s.jsxs("p",{className:"d-flex align-items-center",children:[" ",s.jsx("span",{style:{display:"inline-block",width:16,height:16,borderRadius:"50%",backgroundColor:o,marginLeft:8,border:"1px solid #ccc"}})," ",s.jsxs("span",{className:"ms-2",children:[" ",P(o).basic[0].name," "]})," ",", etc..."]}),m&&s.jsxs("p",{children:["Size: ",m]})]}),C&&(h?s.jsx("div",{className:"alert alert-info mt-2 text-center cursor-text",children:"Already in cart"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Quantity"}),s.jsx("input",{type:"number",min:"1",value:j,onChange:i=>y(Number(i.target.value)),className:"form-control"})]}),s.jsx("button",{className:"btn btn-success w-100",onClick:k,children:"Add to Cart"})]}))]})]})})},I=({category_name:e,products:r=[],onEdit:t,onDelete:c,setAlertMessage:a})=>s.jsxs("div",{className:"item-pack",children:[s.jsx("h2",{className:"category_name",children:e}),s.jsx("div",{className:"row",children:r.map((n,l)=>s.jsx("div",{className:"col-6 col-md-4 col-lg-3 mb-4",children:s.jsx(S,{...n,onEdit:t,onDelete:c,setAlertMessage:a},l)}))})]});export{I};
