import{b as N,r as d,j as s,a as g}from"./app-StHp4lGL.js";import{n as P}from"./index-BMNUxnAA.js";const S=({id:e,title:a,brand:t,description:c,image:r,price:n,color_id:l,color:i,size_id:f,size:m,setAlertMessage:u})=>{const{auth:v}=N().props,y=v.user,{cartItems:x=[]}=N().props||{},[h,p]=d.useState(!1),[j,C]=d.useState(1);d.useEffect(()=>{x.includes(e)&&p(!0)},[x,e]);const b=()=>{g.get(route("items.show",e))},k=o=>{o.stopPropagation(),g.post(route("cart.add"),{product_id:e,color_id:l||null,size_id:f||null,quantity:j},{preserveScroll:!0,onSuccess:()=>{p(!0),u(`"${a}" added to cart!`),setTimeout(()=>u(""),3e3)}})};return s.jsx(s.Fragment,{children:s.jsxs("article",{className:"card product-card",style:{cursor:h?"default":"pointer"},children:[r&&s.jsx("img",{src:r,alt:a,className:"product-image",onClick:b}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{onClick:b,children:[s.jsx("h3",{children:a}),s.jsx("h6",{children:t}),s.jsx("p",{children:c}),s.jsxs("p",{className:"text-success",children:["EGP ",n]}),i&&s.jsxs("p",{className:"d-flex align-items-center",children:[" ",s.jsx("span",{style:{display:"inline-block",width:16,height:16,borderRadius:"50%",backgroundColor:i,marginLeft:8,border:"1px solid #ccc"}})," ",s.jsxs("span",{className:"ms-2",children:[" ",P(i).basic[0].name," "]})," ",", etc..."]}),m&&s.jsxs("p",{children:["Size: ",m]})]}),y&&(h?s.jsx("div",{className:"alert alert-info mt-2 text-center cursor-text",children:"Already in cart"}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Quantity"}),s.jsx("input",{type:"number",min:"1",value:j,onChange:o=>C(Number(o.target.value)),className:"form-control"})]}),s.jsx("button",{className:"btn btn-success w-100",onClick:k,children:"Add to Cart"})]}))]})]})})},I=({category_name:e,products:a=[],onEdit:t,onDelete:c,setAlertMessage:r})=>s.jsxs("div",{className:"item-pack",children:[s.jsx("h2",{className:"category_name",children:e}),s.jsx("div",{className:"row",children:a.map((n,l)=>s.jsx("div",{className:"col-6 col-md-4 col-lg-3 mb-4",children:s.jsx(S,{...n,onEdit:t,onDelete:c,setAlertMessage:r},l)}))})]});export{I};
