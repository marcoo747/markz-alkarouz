import{u as b,j as e,r as j,H as y,a as m}from"./app-F9mGVywk.js";import{N as w}from"./NavBar-BRLkNves.js";import{s as u}from"./index-ikzcNs2d.js";import{s as x,a as h}from"./DeleteModal.module-BRf8I1mm.js";import{d as S}from"./index-CrJ5_I2Q.js";import{s as p}from"./AddModal.module-DtOpv7EN.js";import"./Container-Cdm_3uio.js";const D=({osra:r,onClose:o})=>{const{data:t,setData:n,put:d,errors:a}=b({osra_name:r.osra_name,osra_code:r.osra_code,osra_place:r.osra_place,osra_time:r.osra_time}),i=()=>{d(u("osra.update",r.osra_id),{onSuccess:()=>{o(),window.location.reload()}})};return e.jsx("div",{className:x.modalOverlay,children:e.jsxs("div",{className:x.editModal,children:[e.jsxs("div",{className:x.modalHeader,children:[e.jsx("h3",{children:"Edit Family"}),e.jsx("button",{className:`${x.closeBtn} fs-2`,onClick:o,children:"Ã—"})]}),e.jsxs("div",{className:x.modalBody,children:[e.jsx("label",{children:"Name"}),e.jsx("input",{value:t.osra_name,onChange:l=>n("osra_name",l.target.value)}),a.osra_name&&e.jsx("p",{className:"text-danger",children:a.osra_name}),e.jsx("label",{children:"Code"}),e.jsx("input",{value:t.osra_code,onChange:l=>n("osra_code",l.target.value)}),a.osra_code&&e.jsx("p",{className:"text-danger",children:a.osra_code}),e.jsx("label",{children:"Place"}),e.jsx("input",{value:t.osra_place,onChange:l=>n("osra_place",l.target.value)}),a.osra_place&&e.jsx("p",{className:"text-danger",children:a.osra_place}),e.jsx("label",{children:"Time"}),e.jsx("input",{value:t.osra_time,onChange:l=>n("osra_time",l.target.value)}),a.osra_time&&e.jsx("p",{className:"text-danger",children:a.osra_time})]}),e.jsxs("div",{className:x.modalFooter,children:[e.jsx("button",{className:"btn btn-primary",onClick:i,children:"Save Changes"}),e.jsx("button",{className:"btn btn-outline-secondary",onClick:o,children:"Cancel"})]})]})})},k=({osra:r,onClose:o})=>{const t=()=>{S.Inertia.delete(u("osra.destroy",r.osra_id)),o()};return e.jsx("div",{className:h.modalOverlay,children:e.jsxs("div",{className:h.redModal,children:[e.jsxs("div",{className:h.modalHeader,children:[e.jsx("h3",{children:"Delete Family"}),e.jsx("button",{className:`${h.closeBtn} fs-2`,onClick:o,children:"Ã—"})]}),e.jsx("div",{className:h.modalBody,children:e.jsxs("p",{children:["Are you sure you want to delete ",e.jsx("strong",{children:r.osra_name}),"?"]})}),e.jsxs("div",{className:h.modalFooter,children:[e.jsx("button",{className:"btn btn-danger",onClick:t,children:"Delete"}),e.jsx("button",{className:"btn btn-outline-secondary",onClick:o,children:"Cancel"})]})]})})},F=({onClose:r})=>{const{data:o,setData:t,post:n,reset:d,errors:a}=b({osra_name:"",osra_code:"",osra_place:"",osra_time:""}),i=()=>{n(u("osra.store"),{onSuccess:()=>{d(),r(),window.location.reload()}})};return e.jsx("div",{className:p.modalOverlay,children:e.jsxs("div",{className:p.addModal,children:[e.jsxs("div",{className:p.modalHeader,children:[e.jsx("h3",{children:"Add Family"}),e.jsx("button",{className:`${p.closeBtn} fs-2`,onClick:r,children:"Ã—"})]}),e.jsxs("div",{className:p.modalBody,children:[e.jsx("label",{children:"Name"}),e.jsx("input",{value:o.osra_name,onChange:l=>t("osra_name",l.target.value)}),a.osra_name&&e.jsx("p",{className:"text-danger",children:a.osra_name}),e.jsx("label",{children:"Code"}),e.jsx("input",{value:o.osra_code,onChange:l=>t("osra_code",l.target.value)}),a.osra_code&&e.jsx("p",{className:"text-danger",children:a.osra_code}),e.jsx("label",{children:"Place"}),e.jsx("input",{value:o.osra_place,onChange:l=>t("osra_place",l.target.value)}),a.osra_place&&e.jsx("p",{className:"text-danger",children:a.osra_place}),e.jsx("label",{children:"Time"}),e.jsx("input",{value:o.osra_time,onChange:l=>t("osra_time",l.target.value)}),a.osra_time&&e.jsx("p",{className:"text-danger",children:a.osra_time})]}),e.jsxs("div",{className:p.modalFooter,children:[e.jsx("button",{className:"btn btn-success",onClick:i,children:"Add Family"}),e.jsx("button",{className:"btn btn-outline-secondary",onClick:r,children:"Cancel"})]})]})})},$=({osras:r})=>{const[o,t]=j.useState(r||[]),[n,d]=j.useState(null),[a,i]=j.useState(!1),[l,_]=j.useState(!1),[v,N]=j.useState(!1),g=s=>{const c=new FormData;c.append("osra_name",s.name),c.append("osra_code",s.code),c.append("osra_place",s.osra_place),c.append("osra_time",s.osra_time),m.post(route("osra.store"),c,{onSuccess:()=>m.reload()})},C=s=>{const c=new FormData;c.append("osra_name",s.name),c.append("osra_code",s.code),c.append("osra_place",s.osra_place),c.append("osra_time",s.osra_time),c.append("_method","PUT"),m.post(route("osra.update",s.osra_id),c,{onSuccess:()=>m.reload()})},f=s=>{m.delete(route("osra.destroy",s.osra_id),{onSuccess:()=>m.reload()})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Ù…Ø±ÙƒØ² ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¥ÙŠØ¶Ø§Ø­"}),e.jsx(w,{page_name:"osras"}),e.jsxs("div",{className:"container mt-4",children:[e.jsx("h2",{children:"Osra List"}),e.jsx("button",{className:"btn btn-success mt-2 mb-3",onClick:()=>i(!0),children:"Add Family"}),e.jsx("div",{className:"row",children:o.map(s=>e.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6 mt-6",children:e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:s.osra_name}),e.jsxs("p",{className:"card-text text-muted mb-1",children:["Code: ",s.osra_code]}),e.jsxs("p",{className:"card-text mb-1",children:["ðŸ“ Place: ",s.osra_place]}),e.jsxs("p",{className:"card-text",children:["â° Time: ",s.osra_time]}),e.jsxs("div",{className:"d-flex gap-2 mt-2",children:[e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{d(s),_(!0)},children:"Edit"}),e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>{d(s),N(!0)},children:"Delete"})]})]})})},s.osra_id))}),a&&e.jsx(F,{onClose:()=>i(!1),onConfirm:g}),l&&n&&e.jsx(D,{osra:n,onClose:()=>_(!1),onConfirm:C}),v&&n&&e.jsx(k,{osra:n,onClose:()=>N(!1),onConfirm:()=>f(n)})]})]})};export{$ as default};
